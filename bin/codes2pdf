#!/usr/bin/env node

var codes2pdf = require('../codes2pdf.js');
var program = require('commander');

program
  .version('1.0.7')
  .usage('<source_dir> [options]')
  .description('Auto generate a PDF notebook from your source codes')
  .option('-u --university [name]', 'university name to be added in the notebook')
  .option('-i --initials [initials]', 'initials of the university name to be placed in the upper-right corner of all pages')
  .option('-n --teamname [name]', 'name of the team to be displayed in the notebook')
  .option('-t --teammembers [members]', 'names of team members to be added in the header')
  .option('-o --output [filename]', 'output file for the notebook. Default to `./notebook.pdf`');


program.parse(process.argv);

if (program.args.length < 1) {
  console.error('The source_dir is required.\nRun `codes2pdf --help`' );
  process.exit(1);
}

program.output = program.output || './notebook.pdf';
program.university = program.university || '';
program.initials = program.initials || '';
program.teamname = program.teamname || '';
program.teammembers = program.teammembers || '';

codes2pdf(
  program.args[0],
  program.output,
  program.university,
  program.initials,
  program.teamname,
  program.teammembers
);

